[{"C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\index.js":"1","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\reportWebVitals.js":"2","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\App.js":"3","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksienSelaaminen.jsx":"4","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\menu\\menu.jsx":"5","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksienMuokkaamine.jsx":"6","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksienLisaaminen.jsx":"7","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksenTallentaminen.jsx":"8"},{"size":500,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"10"},{"size":739,"mtime":1608281797787,"results":"12","hashOfConfig":"10"},{"size":1943,"mtime":1608277429488,"results":"13","hashOfConfig":"10"},{"size":765,"mtime":1608282591307,"results":"14","hashOfConfig":"10"},{"size":3690,"mtime":1608278935750,"results":"15","hashOfConfig":"10"},{"size":1752,"mtime":1608278967915,"results":"16","hashOfConfig":"10"},{"size":689,"mtime":1608278509537,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1ugvxlp",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\index.js",[],["37","38"],"C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\reportWebVitals.js",[],"C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\App.js",["39","40"],"import React, {useState, useEffect} from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport Menu from './menu/menu';\nimport './App.css';\nimport Muokkaaminen from './components/avauksienMuokkaamine';\nimport Selaaminen from './components/avauksienSelaaminen';\nimport Lisaaminen from './components/avauksienLisaaminen';\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Shakkiavauksia</h1>\n      <BrowserRouter>\n      <Menu/>\n      <Route path=\"/avauksienSelaaminen\" exact component={Selaaminen}/>\n      <Route path=\"/avauksienMuokkaaminen\" exact component={Muokkaaminen}/>\n      <Route path=\"/avauksienLisaaminen\" exact component={Lisaaminen}/>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksienSelaaminen.jsx",[],"C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\menu\\menu.jsx",["41","42","43","44"],"C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksienMuokkaamine.jsx",["45"],"import React, {useState, useEffect} from 'react';\r\nimport './avaukset.css'\r\nconst Muokkaaminen = () => {\r\n  const [avaukset, asetaAvaukset] = useState({});\r\n  const [avaus, asetaAvaus] = useState({});\r\n  const [avain, asetaAvain] = useState();\r\n  const [id, asetaId] = useState(0);\r\n  const baseurl = \"https://h2c-639ef.firebaseio.com/avaukset\";\r\n  useEffect(() => {\r\n    fetch(baseurl + \".json\")\r\n      .then(function(response) {\r\n        if (response.status !== 200) {\r\n          console.log(\r\n            \"Virhe! Virhekoodi: \" + response.status\r\n          );\r\n          return;\r\n        }\r\n        response.json().then(function(data) {\r\n          asetaAvaukset(data);\r\n        });\r\n      })\r\n      .catch(function(err) {\r\n        console.log(\"Fetch Error : \", err);\r\n      });\r\n  }, []);\r\n  const avauksetArray = Array.from(Object.keys(avaukset), k => avaukset[k]);\r\n  const muokkaaAvausta = avauksetArray.map((avaus, key) => {\r\n    if (key === id) {\r\n      return (\r\n        <div>\r\n          <p>Avauksen Nimi</p>\r\n          <input\r\n            id=\"nimi\"\r\n            name=\"nimi\"\r\n            value={avaus.nimi}\r\n            onChange={e => update(e)}\r\n          />\r\n          <br />\r\n          <p>Avauksen 1. siirto</p>\r\n          <input\r\n            id=\"siirto1\"\r\n            name=\"siirto1\"\r\n            value={avaus.siirto1}\r\n            onChange={e => update(e)}\r\n          />\r\n          <br />\r\n          <p>Avauksen 2. Siirto</p>\r\n          <input\r\n            id=\"siirto2\"\r\n            name=\"siirto2\"\r\n            value={avaus.siirto2}\r\n            onChange={e => update(e)}\r\n          />\r\n          <br />\r\n          <p>Avauksen 3. Siirto</p>\r\n          <input\r\n            id=\"siirto3\"\r\n            name=\"siirto3\"\r\n            value={avaus.siirto3}\r\n            onChange={e => update(e)}\r\n          />\r\n          <br />\r\n          <p>Avauksen 4. Siirto</p>\r\n          <input\r\n            id=\"siirto4\"\r\n            name=\"siirto4\"\r\n            value={avaus.siirto4}\r\n            onChange={e => update(e)}\r\n          />\r\n          <br />\r\n        </div>\r\n      );\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"sisalto\">\r\n      <h2>Avauksien selaaminen, muokkaaminen ja tallentaminen palvelimelle</h2>\r\n      <div className=\"avausInputit\">{muokkaaAvausta}</div>\r\n      <button onClick={edellinen}>{\"<\"}</button>\r\n      <button onClick={seuraava}>{\">\"}</button>\r\n      <button onClick={save}>Tallenna</button>\r\n    </div>\r\n  );\r\n\r\n  function seuraava() {\r\n    if (id < avauksetArray.length - 1) asetaId(id + 1);\r\n  }\r\n\r\n  function edellinen() {\r\n    if (id > 0) asetaId(id - 1);\r\n  }\r\n\r\n  function update(e) {\r\n    let i = 0;\r\n    let keynow = null;\r\n    for (const key in avaukset) {\r\n      if (i === id) {\r\n        keynow = key;\r\n      }\r\n      i++;\r\n    }\r\n    let avaus = Object.assign({}, avaukset[keynow]);\r\n    avaus[e.target.name] = e.target.value;\r\n    let uusiAvaukset = Object.assign({}, avaukset);\r\n    uusiAvaukset[keynow] = avaus;\r\n    asetaAvaukset(uusiAvaukset);\r\n    asetaAvain(keynow);\r\n    asetaAvaus(avaus);\r\n  }\r\n\r\n  function save() {\r\n    const url = baseurl + \"/\" + avain + \".json\";\r\n    fetch(url, {\r\n      method: \"PATCH\",\r\n      \"Content-Type\": \"application/json\",\r\n      body: JSON.stringify(avaus)\r\n    })\r\n      .then(function(response) {\r\n        if (response.status !== 200) {\r\n          alert(\r\n            \"Tallentamisessa tapahtui virhe! Virhekoodi: \" + response.status\r\n          );\r\n          return;\r\n        }\r\n        response.json().then(function(data) {\r\n          alert(\"Tallennus onnistui!\")\r\n        });\r\n      })\r\n      .catch(function(err) {\r\n        console.log(\"Fetch Error : \", err);\r\n      });\r\n  }\r\n}\r\nexport default Muokkaaminen;","C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksienLisaaminen.jsx",[],"C:\\Users\\Sami\\Desktop\\React-reeni\\part7\\e1901076w81\\src\\components\\avauksenTallentaminen.jsx",[],{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":1,"column":16,"nodeType":"52","messageId":"53","endLine":1,"endColumn":24},{"ruleId":"50","severity":1,"message":"54","line":1,"column":26,"nodeType":"52","messageId":"53","endLine":1,"endColumn":35},{"ruleId":"50","severity":1,"message":"51","line":1,"column":16,"nodeType":"52","messageId":"53","endLine":1,"endColumn":24},{"ruleId":"50","severity":1,"message":"54","line":1,"column":26,"nodeType":"52","messageId":"53","endLine":1,"endColumn":35},{"ruleId":"50","severity":1,"message":"55","line":3,"column":9,"nodeType":"52","messageId":"53","endLine":3,"endColumn":22},{"ruleId":"50","severity":1,"message":"56","line":3,"column":24,"nodeType":"52","messageId":"53","endLine":3,"endColumn":29},{"ruleId":"57","severity":1,"message":"58","line":27,"column":57,"nodeType":"59","messageId":"60","endLine":27,"endColumn":59},"no-native-reassign",["61"],"no-negated-in-lhs",["62"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'BrowserRouter' is defined but never used.","'Route' is defined but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-global-assign","no-unsafe-negation"]